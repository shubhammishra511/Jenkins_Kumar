Step-by-step document for setting up a sample Jenkins CI/CD pipeline for a Java project:

### Step 1: Create the Java Project Locally

1. **Create Directory Structure** on your desktop:
   - Open a terminal or Git Bash.
   - Run the following commands to create the directory structure:

     ```bash
     mkdir MyJavaApp
     cd MyJavaApp
     mkdir -p src/main/java/com/example
     mkdir -p src/test/java/com/example
     ```

2. **Create Java Code**:
   - Inside the `src/main/java/com/example` directory, create a file named `Main.java` and add the following sample code:

     ```java
     package com.example;

     public class Main {
         public static void main(String[] args) {
             System.out.println("Hello, Jenkins CI/CD!");
         }
     }
     ```

3. **Create a Test Class**:
   - Inside the `src/test/java/com/example` directory, create a file named `MainTest.java` with the following content:

     ```java
     package com.example;

     import org.junit.jupiter.api.Test;
     import static org.junit.jupiter.api.Assertions.assertEquals;

     public class MainTest {

         @Test
         public void testMain() {
             assertEquals("Hello, Jenkins CI/CD!", "Hello, Jenkins CI/CD!");
         }
     }
     ```

4. **Create a `pom.xml` File**:
   - In the `MyJavaApp` root directory, create a `pom.xml` file for Maven to handle dependencies and build the project:

     ```xml
     <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
         <modelVersion>4.0.0</modelVersion>
         <groupId>com.example</groupId>
         <artifactId>MyJavaApp</artifactId>
         <version>1.0-SNAPSHOT</version>

         <dependencies>
             <dependency>
                 <groupId>org.junit.jupiter</groupId>
                 <artifactId>junit-jupiter-api</artifactId>
                 <version>5.7.0</version>
                 <scope>test</scope>
             </dependency>
             <dependency>
                 <groupId>org.junit.jupiter</groupId>
                 <artifactId>junit-jupiter-engine</artifactId>
                 <version>5.7.0</version>
                 <scope>test</scope>
             </dependency>
         </dependencies>

         <build>
             <plugins>
                 <plugin>
                     <groupId>org.apache.maven.plugins</groupId>
                     <artifactId>maven-compiler-plugin</artifactId>
                     <version>3.8.1</version>
                     <configuration>
                         <source>1.8</source>
                         <target>1.8</target>
                     </configuration>
                 </plugin>
                 <plugin>
                     <groupId>org.apache.maven.plugins</groupId>
                     <artifactId>maven-surefire-plugin</artifactId>
                     <version>2.22.2</version>
                 </plugin>
             </plugins>
         </build>
     </project>
     ```

### Step 2: Push the Project to GitHub

1. **Initialize a Git Repository**:
   - Run the following commands in the `MyJavaApp` directory:

     ```bash
     git init
     git add .
     git commit -m "Initial commit of Java project"
     ```

2. **Push Code to GitHub**:
   - Create a new repository on GitHub (name it `MyJavaApp`).
   - Link the local repository with GitHub and push the code:

     ```bash
     git remote add origin https://github.com/your-username/MyJavaApp.git
     git push -u origin master
     ```

### Step 3: Configure Jenkins CI Job

1. **Open Jenkins Dashboard** and create a new Freestyle project.
2. **Configure the Source Code**:
   - Under "Source Code Management," select **Git** and enter your GitHub repository URL (e.g., `https://github.com/your-username/MyJavaApp.git`).
3. **Add Build Step**:
   - Under "Build," add **Invoke top-level Maven targets**.
   - In "Goals," enter `clean test package` to compile, test, and package the application.

4. **Configure Post-Build Actions**:
   - Add **Archive the artifacts** and specify `target/*.jar` to keep the JAR file generated by Maven.
5. **Save and Build the Project**:
   - Click **Save** and then **Build Now** to run the CI job.

### Step 4: Configure Jenkins CD Job

1. **Create Another Freestyle Project** in Jenkins (name it `MyJavaApp-Deploy`).
2. **Add a Build Step to Transfer Files**:
   - Under "Build," add **Execute shell**.
   - In the script box, add commands to deploy the code to your Ubuntu server (use SSH commands or any deployment mechanism suitable for your setup). Example script:

     ```bash
     scp target/MyJavaApp-1.0-SNAPSHOT.jar user@ubuntu-server:/home/user/deployment/
     ssh user@ubuntu-server "java -jar /home/user/deployment/MyJavaApp-1.0-SNAPSHOT.jar"
     ```

3. **Trigger the CD Job**:
   - Go to the **Post-build Actions** of the CI job (`MyJavaApp`).
   - Select **Build other projects** and specify `MyJavaApp-Deploy` to trigger the CD job automatically after a successful build.

### Summary

This setup provides a basic CI/CD pipeline where:
1. The CI job builds, tests, and packages the Java application.
2. The CD job transfers the JAR file to the Ubuntu server and runs it. 

This approach can be further customized with additional configurations and testing setups as needed for production scenarios.
